!function(a){var b={yes:{text:"\u041e\u041a",callback:function(){return a.psmodal.close(),!0}},no:{text:"\u041e\u0422\u041c\u0415\u041d\u0410",callback:function(){return a.psmodal.close(),!0}}},c=a('<div class="psmodal--custom">\t<div class="psmodal--custom---overlay"></div>\t<div class="psmodal--custom---modal">\t\t<div class="psmodal--custom---modal---wrapper">\t\t\t<div class="psmodal--custom---modal-header">\t\t\t\t<span class="psmodal--custom---modal-header--title"></span>\t\t\t\t<button class="psmodal--custom--close"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 1000 1000" enable-background="new 0 0 1000 1000" xml:space="preserve"><g><path d="M990,39.9L960.1,10L500,470.1L39.9,10L10,39.9L470.1,500L10,960.1L39.9,990L500,529.9L960.1,990l29.9-29.9L529.9,500L990,39.9z"/></g></svg></button>\t\t\t</div>\t\t\t<div class="psmodal--custom---modal-main">\t\t\t\t<div class="psmodal--custom---modal-main--content">\t\t\t\t\t<i class="psmodal--custom--icon"></i>\t\t\t\t\t<div class="psmodal--custom---modal-main--content-wrapper">\t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t</div>\t\t\t\t<div class="psmodal--custom---modal-main--btns"></div>\t\t\t</div>\t\t</div>\t</div></div>'),d=function(b,c){var d=a.extend(!0,{},b,c);return a.each(c,function(b,c){a.isArray(c)&&(d[b]=c)}),d},e=function(e,f,g,h){f="string"===a.type(f)?f:a.isPlainObject(f)?f.toString():f;var i=b.yes,j=b.no;a.isPlainObject(h)&&(i=a.isPlainObject(h.yes)?d(b.yes,h.yes):b.yes,j=a.isPlainObject(h.no)?d(b.no,h.no):null),e="alert"==e||"confirm"==e||"prompt"==e?e:"modal",this.type=e,this.message=f,this.title=g,this.callback={yes:i,no:j},this.modal=c.clone().attr({id:"psmodal--custom--"+(new Date).getTime()}),this.modal.addClass(this.type),a(".psmodal--custom---modal-header--title",this.modal).text(this.title),a(".psmodal--custom---modal-main--content-wrapper",this.modal).append(this.message);var k=a("<button></button>",{class:"psmodal--custom-btn ok",text:this.callback.yes.text}).on("click",function(b){a.psmodal.modal.callbackOk.call(a.psmodal.modal,b)});if(a(".psmodal--custom---modal-main--btns",this.modal).append(k),this.callback.no){var l=a("<button></button>",{class:"psmodal--custom-btn cancel",text:this.callback.no.text}).on("click",function(b){a.psmodal.modal.callbackNo.call(a.psmodal.modal,b)});a(".psmodal--custom---modal-main--btns",this.modal).append(l)}a(".psmodal--custom--close",this.modal).on("click",function(b){a.psmodal.modal.callbackNo.call(a.psmodal.modal,b)}),a("body").append(this.modal),this.firstElement=a(a("button",this.modal)[0]);var m=a(".psmodal--custom-btn",this.modal);this.lastElement=a(m[m.length-1]);var n=this;return setTimeout(function(){a(".psmodal--custom---modal",n.modal).scrollTop(0),a(".psmodal--custom--close",n.modal).focus()},10),this};a.extend(e.prototype,{close:function(){this.modal&&(a(".psmodal--custom---modal-main--btns button",this.modal).unbind("click"),a(".psmodal--custom--close",this.modal).unbind("click"),this.modal.remove(),this.modal.empty(),this.modal=null)},callbackOk:function(b){a.psmodal.modal.callback.yes.callback.call(this.modal,b)&&a.psmodal.close()},callbackNo:function(b){a.psmodal.modal.callback.no?a.psmodal.modal.callback.no.callback.call(this.modal,b):a.psmodal.close()}}),a.psmodal={keydown:function(b){if(9==b.keyCode)return a.psmodal.modal&&(b.shiftKey?a.psmodal.modal.lastElement.focus():a.psmodal.modal.firstElement.focus()),!1},open:function(b,c,d,f){var g=new e(b,c,d,f);this.modal=g,this.modal.lastElement.on("keydown",function(b){if(9==b.keyCode&&!b.shiftKey)return a.psmodal.modal.firstElement.focus(),!1}),this.modal.firstElement.on("keydown",function(b){if(9==b.keyCode&&b.shiftKey)return a.psmodal.modal.lastElement.focus(),!1})},close:function(){this.modal&&(this.modal.close(),this.modal=null)}},a(document).on("keydown",function(b){27==b.keyCode&&a.psmodal.close()})}(jQuery);